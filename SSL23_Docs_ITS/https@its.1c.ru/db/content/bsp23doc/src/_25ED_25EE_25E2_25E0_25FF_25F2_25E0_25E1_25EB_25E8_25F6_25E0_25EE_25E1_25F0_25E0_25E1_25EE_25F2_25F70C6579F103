<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1053;&#1086;&#1074;&#1072;&#1103;&#1058;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072;&#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1086;&#1074;&#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103;</title>
		<LINK REL="stylesheet" href="style.css@_=1504708101">
		<SCRIPT src="script.js@_=1504708101" TYPE="text/javascript"></script>
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="_25ED_25EE_25E2_25E0_25FF_25F2_25E0_25E1_25EB_25E8_25F6_25E0_25EE_25E1_25F0_25E0_25E1_25EE_25F2_25F70EF9684D2C" rel="canonical">
<link href="../../../../static/its.content.css@_=1490872753" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../../../static/its.content.js@_=1489758009"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../../../../static/html5shiv.js@_=1500896273"></script><![endif]-->

</head>
	<body class="bspdoc">
<a name="_обновлениеинформационнойбазыноваятаблицаобработчиковобновления"></a><h1>НоваяТаблицаОбработчиковОбновления</h1>

<pre> Возвращает пустую таблицу обработчиков обновления и первоначального заполнения ИБ.</pre>
<p class="Paragraph0c"><span class="Bold">Синтаксис</span></p>
<pre> Функция НоваяТаблицаОбработчиковОбновления() Экспорт</pre>
<p class="Paragraph0c"><span class="Bold">Возвращаемое значение</span></p>
<pre>   ТаблицаЗначений   - таблица с колонками:
    1) Для всех типов обработчиков обновления:
     * НачальноеЗаполнение - Булево - если Истина, то обработчик должен срабатывать при запуске на "пустой" базе.
     * Версия              - Строка - например, "2.1.3.39". Номер версии конфигурации, при переходе
                                      на которую должна быть выполнена процедура-обработчик обновления.
                                      Если указана пустая строка, то это обработчик только для начального заполнения
                                      (должно быть указано свойство НачальноеЗаполнение).
     * Процедура           - Строка - полное имя процедуры-обработчика обновления/начального заполнения. 
                                      Например, "ОбновлениеИнформационнойБазыУПП.ЗаполнитьНовыйРеквизит"
                                      Обязательно должна быть экспортной.
     * РежимВыполнения     - Строка - режим выполнения обработчика обновления. Допустимые значения:
                                      Монопольно, Отложенно, Оперативно. Если значение не заполнено, обработчик
                                      считается монопольным.
    2) Для обработчиков обновления в модели сервиса:
     * ОбщиеДанные         - Булево - если Истина, то обработчик должен срабатывать до
                                      выполнения любых обработчиков, использующих разделенные данные.
                                      Допустимо указывать только для обработчиков с режимом выполнения Монопольно и Оперативно.
                                      Если указать значение Истина для обработчика с режимом
                                      выполнения Отложенно, будет выдано исключение.
     * УправлениеОбработчиками - Булево - если Истина, то обработчик должен иметь параметр типа структура, в котором
                                          есть свойство.
                                      РазделенныеОбработчики - таблица значений со структурой, возвращаемой этой
                                                               функцией.
                                      При этом колонка Версия игнорируется. В случае необходимости выполнения
                                      разделенного обработчика, в данную таблицу необходимо добавить строку с
                                      описанием процедуры обработчика.
                                      Имеет смысл только для обязательных (Версия = *) обработчиков обновления 
                                      с установленным флагом ОбщиеДанные.
    3) Для отложенных обработчиков обновления:
     * Комментарий         - Строка - описание действий, выполняемых обработчиком обновления.
     * Идентификатор       - УникальныйИдентификатор - необходимо заполнять для обработчиков отложенного обновления,
                                                 для остальных заполнение не требуется. Требуется для идентификации
                                                 обработчика в случае его переименования.
     * БлокируемыеОбъекты  - Строка - необходимо заполнять для обработчиков отложенного обновления,
                                      для остальных заполнение не требуется. Полные имена объектов через запятую, 
                                      которые следует блокировать от изменения до завершения процедуры обработки данных.
    4) Для обработчиков обновления в библиотеках (конфигурации) с параллельным режимом выполнения отложенных обработчиков:
     * ПроцедураПроверки   - Строка - необходимо заполнять для обработчиков отложенного обновления,
                                      для остальных заполнение не требуется. Имя функции, которая для переданного объекта 
                                      определяет, завершена ли для него процедура обработки данных. 
                                      Если переданный объект обработан, то следует вернуть значение Истина. 
                                      Вызывается из процедуры ОбновлениеИнформационнойБазы.ПроверитьОбъектОбработан. 
                                      Параметры, передаваемые в функцию:
                                         Параметры - Структура - см. <A href="_25EC_25E5_25F2_25E0_25E4_25E0_25ED_25ED_25FB_25E5_25E8_25EE_25F2_25E1_25EE_25F0_25EF_25EE_25E4_25E0_25ED_25ED_25FB_25EC.htm@_=1504708101#_обновлениеинформационнойбазыметаданныеиотборподанным">ОбновлениеИнформационнойБазы.МетаданныеИОтборПоДанным</a>.
     * ПроцедураЗаполненияДанныхОбновления - Строка - указывается процедура, которая регистрирует данные,
                                      подлежащие обновлению данным обработчиком.
     * ЗапускатьТолькоВГлавномУзле  - Булево - только для обработчиков отложенного обновления с режимом выполнения Параллельно.
                                      Указать Истина, если обработчик обновления должен выполняться только в главном узле РИБ.
     * ЗапускатьИВПодчиненномУзлеРИБСФильтрами - Булево - только для обработчиков отложенного обновления с режимом выполнения Параллельно,
                                      Указать Истина, если обработчик обновления должен также выполняться в подчиненном узле РИБ с фильтрами.
     * ЧитаемыеОбъекты              - Строка - Объекты, которые обработчик обновления будет читать при обработке данных.
     * ИзменяемыеОбъекты            - Строка - Объекты, которые обработчик обновления будет изменять при обработке данных.
     * ПриоритетыВыполнения         - ТаблицаЗначений - Таблица приоритетов выполнения между отложенными обработчиками,
                                      изменяющими или читающими одни и те же данные. Подробнее см. в комментарии
                                      к функции <A href="_25EF_25F0_25E8_25EE_25F0_25E8_25F2_25E5_25F2_25FB_25E2_25FB_25EF_25EE_25EB_25ED_25E5_25ED_25E8_25FF0CA697E1E8#_обновлениеинформационнойбазыприоритетывыполненияобработчика">ОбновлениеИнформационнойБазы.ПриоритетыВыполненияОбработчика</a>.
    5) Для внутреннего использования:
     * ВыполнятьВГруппеОбязательных - Булево - следует указывать, если обработчик требуется
                                      выполнять в одной группе с обработчиками на версии "*".
                                      При этом, возможно менять порядок выполнения обработчика
                                      относительно других путем изменения приоритета.
     * Приоритет           - Число  - для внутреннего использования.
    6) Устарели, используются для обратной совместимости (для новых обработчиков не указывать):
     * МонопольныйРежим    - Неопределено, Булево - если указано Неопределено, то обработчик 
                                      должен безусловно выполняться в монопольном режиме.
                                      Для обработчиков перехода на конкретную версию (версия &lt;&gt; *):
                                        Ложь   - обработчик не требует монопольного режима для выполнения.
                                        Истина - обработчик требует монопольного режима для выполнения.
                                      Для обязательных обработчиков обновления (Версия = "*"):
                                        Ложь   - обработчик не требует монопольного режима.
                                        Истина - обработчик может требовать монопольного режима для выполнения.
                                                 В такие обработчики передается параметр типа структура
                                                 со свойством МонопольныйРежим (типа Булево).
                                                 При запуске обработчика в монопольном режиме передается
                                                 значение Истина. В этом случае обработчик должен выполнить
                                                 требуемые действия по обновлению. Изменение параметра
                                                 в теле обработчика игнорируется.
                                                 При запуске обработчика в немонопольном режиме передается
                                                 значение Ложь. В этом случае обработчик не должен вносить никакие
                                                 изменения в ИБ.
                                                 Если в результате анализа выясняется что обработчику требуется
                                                 изменить данные ИБ следует установить значение параметра в.
                                                 Истина и прекратить выполнение обработчика.
                                                 В этом случае оперативное (немонопольное обновление ИБ) будет
                                                 отменено и выдана ошибка с требованием выполнить обновление в
                                                 монопольном режиме.</pre>
<p class="Paragraph0c"><span class="Bold">Пример вызова</span></p>
<pre> Результат = ОбновлениеИнформационнойБазы.НоваяТаблицаОбработчиковОбновления()</pre>
<p class="Paragraph0c"><span class="Bold">Доступность</span></p>
<pre> Сервер, Толстый клиент, Внешнее соединение</pre>
	</body>
</html>