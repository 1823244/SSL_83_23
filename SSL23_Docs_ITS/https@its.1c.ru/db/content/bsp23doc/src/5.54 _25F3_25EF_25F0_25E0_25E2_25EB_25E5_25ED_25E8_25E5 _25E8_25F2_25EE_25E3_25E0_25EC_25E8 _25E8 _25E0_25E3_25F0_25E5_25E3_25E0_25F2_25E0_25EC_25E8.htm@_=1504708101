<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>5.54 &#1059;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1080;&#1090;&#1086;&#1075;&#1072;&#1084;&#1080; &#1080; &#1072;&#1075;&#1088;&#1077;&#1075;&#1072;&#1090;&#1072;&#1084;&#1080;</title>
		<LINK REL="stylesheet" href="style.css@_=1504708101">
		<SCRIPT src="script.js@_=1504708101" TYPE="text/javascript"></script>
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="5.54 _25F3_25EF_25F0_25E0_25E2_25EB_25E5_25ED_25E8_25E5 _25E8_25F2_25EE_25E3_25E0_25EC_25E8 _25E8 _25E0_25E3_25F0_25E5_25E3_25E0_25F2_25E0_25EC_25E8.htm" rel="canonical">
<link href="../../../../static/its.content.css@_=1490872753" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../../../static/its.content.js@_=1489758009"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../../../../static/html5shiv.js@_=1500896273"></script><![endif]-->

</head>
	<body class="bspdoc">
<h1>5.54 Управление итогами и агрегатами</h1>

<p class="Paragraph0c"><a name="_использование_регламентных_заданий"></a>Программа
позволяет администрировать итоги регистров накопления и бухгалтерии, агрегаты
оборотных регистров накопления.</p>

<p class="Paragraph0c">Регистры программы предназначены для хранения и обработки
информации, отражающей деятельность предприятия. В регистрах обычно хранится
информация об изменении состояний объектов предметной области (документов,
справочников) или другая информация, не отражающаяся непосредственно в этих
объектах. Например, в регистрах может храниться информация о курсах валют.</p>

<p class="Paragraph0c">Агрегаты – это специальный механизм, реализованный в
оборотных регистрах накопления. Для любого регистра может быть создано
несколько агрегатов. Каждый агрегат – это специализированное хранилище,
содержащее агрегированные данные регистра в различных разрезах, удобных для
формирования отчетов в конкретной информационной базе. Использование агрегатов
позволяет значительно сократить время формирования отчетов, что важно для
больших информационных баз.</p>

<p class="Paragraph0c">Подробнее о регистрах и агрегатах см. в книге
«1С:Предприятие 8.3. Руководство разработчика».</p>

<p class="Paragraph0c">Администрирование итогов и агрегатов осуществляется по
команде <span class="Interface">Управление итогами и агрегатами</span> в разделе <span class="Note"><b>Администрирование</b></span>
– <span class="Interface">Поддержка и обслуживание</span>.</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3807.png@_=1504708101" WIDTH="800" ALT HEIGHT="408"></p>

<p class="Paragraph0c">Поддерживаются два режима работы:</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Часто используемые
возможности</span> – режим предоставляет простые средства для
выполнения наиболее часто используемых действий с итогами регистров. Режим
позволяет «одним нажатием» выполнить действия, возникающие при обслуживании
программы; </p>

<p class="Bullet1">&#9632; 
<span class="Interface">Полные возможности</span> – предоставляет
полный доступ к возможностям управления итогами и агрегатами программы. Режим
позволяет выполнять все операции как с одним регистром, так и со списком
регистров. </p>

<p class="Paragraph0c">Для переключения режимов служит ссылка в правом нижнем
углу окна. Режим открытия запоминается.</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3809.png@_=1504708101" WIDTH="800" ALT HEIGHT="403"></p>

<p class="Paragraph0c">Некоторые операции с регистрами и агрегатами можно
выполнять по заданному расписанию с помощью регламентных заданий.</p>

<p class="Paragraph0c">Для работы с этими возможностями должна быть установлена
роль <span class="Interface">Полные права</span>.</p>

<a name="issogl1_режим_часто_используемые_возможности"><h2>Режим «Часто используемые возможности»</h2></a>

<p class="Paragraph0c">В этом режиме администратору доступны следующие команды:</p>

<p class="Bullet1">&#9632; 
Для администрирования регистров:</p>

<p class="Bullet1">&#9632;  <span class="Interface">Установить период рассчитанных итогов</span> – команда выполняет
установку периода рассчитанных итогов для всех регистров накопления и
бухгалтерии с включенными итогами. Для регистров накопления – на конец
предыдущего месяца, для регистров бухгалтерии – на конец текущего месяца.
Команду можно использовать в начале каждого месяца для повышения
производительности регистров;</p>

<p class="Bullet1">&#9632;  <span class="Interface">Включить использование итогов</span> – команда включает
использование итогов для всех регистров, у которых этот режим выключен
(например, в результате аварийного завершения какой-либо процедуры, отключающей
использование итогов);</p>

<p class="Bullet1">&#9632; 
Для администрирования агрегатов:</p>

<p class="Bullet1">&#9632;  <span class="Interface">Перестроить и заполнить</span> – команда выполняет операцию
перестроения использования агрегатов и выполняет заполнение агрегатов. Операция
выполняется для всех оборотных регистров накопления, для которых включен режим
агрегатов и установлено их использование. Операция может выполняться
продолжительное время. Операцию, как правило, нужно выполнять периодически, для
этого можно воспользоваться регламентным заданием. Подробнее см. раздел <a href="#_использование_регламентных_заданий_1">Использование регламентных
заданий</a>; </p>

<p class="Bullet1"><span class="Interface">&#9632;  </span><span class="Interface">Получить оптимальные агрегаты –</span><span class="Paragraph0c0"> команда позволяет получить список
оптимальных агрегатов для всех оборотных регистров накопления, для которых в </span><span class="Interface">Конфигураторе</span><span class="Paragraph0c0"> заданы агрегаты. В процессе выполнения
команды будет запрошен каталог, куда будут сохранены </span><span class="Paragraph0c0">xml</span><span class="Paragraph0c0">-файлы со списками оптимальных агрегатов.
Каждый файл будет назван именем соответствующего регистра. Файлы используются
для загрузки и создания оптимальных агрегатов в </span><span class="Interface">Конфигураторе</span><span class="Paragraph0c0">. При загрузке оптимальных агрегатов
может возникнуть ситуация когда необходимо будет изменить список оптимальных
агрегатов, а для этого потребуется снять с поддержки конфигурацию. Операция не
является регулярной. Операция является наиболее ресурсоемкой и продолжительной,
поэтому рекомендуется выполнять ее в случаях, когда с программой не работают
другие пользователи. Выполнение расчета оптимальных агрегатов может
потребоваться в следующих случаях:</span></p>

<p class="Bullet1">&#9632;  существенное
падение скорости формирования отчетов на текущем списке агрегатов;</p>

<p class="Bullet1">&#9632;  существенное
изменение характера хранимых данных в программе;</p>

<p class="Bullet1">&#9632;  существенное
изменение характера отчетов, которыми пользуются пользователи.</p>

<a name="issogl1_режим_полные_возможности"><h2>Режим «Полные возможности»</h2></a>

<p class="Paragraph0c">Режим <span class="Interface">Полные возможности</span>
позволяет получить доступ ко всем инструментам администрирования итогов
регистров (вкладка <span class="Interface">Итоги</span>) и агрегатов (вкладка <span class="Interface">Агрегаты</span>). </p>

<p class="Paragraph0c">На вкладке <span class="Interface">Итоги</span> представлен
список регистров накопления и бухгалтерии. В список попадают те регистры, у
которых для текущего пользователя установлено право <span class="Interface">Управление
итогами</span>.</p>

<p class="Paragraph0c">Список показывает текущее состояние регистров программы.</p>

<p class="Paragraph0c">В списках (на вкладках <span class="Interface">Итоги</span>
и <span class="Interface">Агрегаты</span>) доступен режим множественного
выделения. Любая команда применяется к выделенным объектам или к тому, на
котором установлен курсор.</p>

<p class="Paragraph0c">Список <span class="Interface">Итоги</span> представлен
колонками:</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Итоги</span> – наличие
флажка означает, что для регистра ведутся итоги, отсутствие флажка – что итоги
по регистру не рассчитываются;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Регистр и режим использования</span>
– наименование регистра и, в виде подсказки, режим работы регистра: <span class="Interface">Просто итоговый </span><span class="Paragraph0c0">регистр (когда у регистра есть остатки), </span><span class="Interface">Итоги</span><span class="Paragraph0c0"> или </span><span class="Interface">Агрегаты</span><span class="Paragraph0c0"> (когда у
регистра есть только обороты);</span></p>

<p class="Bullet1">&#9632; 
<span class="Interface">Период итогов</span> – дата,
по которую рассчитаны итоги регистра;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Текущие </span>– наличие
флажка означает, что для регистра рассчитываются не только общие итоги на
указанную дату, но еще и оперативные итоги на дату последнего движения,
отсутствие флажка – что оперативные итоги по регистру не рассчитываются. Этот
режим имеет смысл применять для регистров, движения которых анализируются в
оперативном учете перед проведением документов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Разделение</span> – наличие
флажка означает, что для регистра задействован механизм разделителя итогов,
который обеспечивает более высокую параллельность работы при записи в регистр.</p>

<p class="Paragraph0c">Серым цветом отмечены те режимы, которые невозможно
изменить при текущем состоянии программы. Например, для регистра накопления <span class="Note"><b>Демо: Остатки товара
в местах хранения</b></span> нельзя включить разделение итогов, так как
этот режим не включен для регистра в <span class="Interface">Конфигураторе</span>.
Переключать режимы можно на вкладке <span class="Interface">Агрегаты</span>.</p>

<p class="Paragraph0c">На вкладке <span class="Interface">Итоги</span> доступны
следующие кнопки с выпадающим меню:</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Итоги</span> –
включает и выключает использование итогов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Текущие итоги</span> –
включает и выключает использование текущих итогов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Разделение итогов</span> –
включает и выключает разделение итогов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Установить период итогов</span> –
устанавливает выбранный период рассчитанных итогов;</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3811.png@_=1504708101" WIDTH="433" ALT HEIGHT="181"></p>

<p class="Bullet1">&#9632; 
<span class="Interface">Пересчет</span> –
выполняет пересчет итогов, текущих итогов или выполняет пересчет итогов за
выбранный период.</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3813.png@_=1504708101" WIDTH="543" ALT HEIGHT="425"></p>

<p class="Paragraph0c">С помощью соответствующей кнопки или клавиши <span class="Interface">F5</span> можно <span class="Interface">Обновить</span>
информацию о состоянии итогов.</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3815.png@_=1504708101" WIDTH="800" ALT HEIGHT="339"></p>

<p class="Paragraph0c">На вкладке <span class="Interface">Агрегаты</span> в верхнем
списке содержится перечень оборотных регистров накопления, для которых в <span class="Interface">Конфигураторе</span> заданы агрегаты, а в нижнем списке –
перечень этих агрегатов. В списке агрегатов содержится признак использования
агрегата и статистическая информация о нем. В колонке Регистр кроме
наименования регистра выводится информация о режиме использования регистра: <span class="Interface">Используются данные итогов</span> или <span class="Interface">Используются
данные агрегатов</span>. </p>

<p class="Paragraph0c">В список попадают те оборотные регистры накопления, у
которых для текущего пользователя установлено право <span class="Interface">Управление
итогами</span>.</p>

<p class="Paragraph0c">На вкладке <span class="Interface">Агрегаты</span> доступны
следующие кнопки:</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Режим</span> –
устанавливает режима использования регистра: итоги или агрегаты;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Использование</span> –
включает и выключает использование агрегатов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Перестроить</span> –
выполняет перестроение использования агрегатов (задайте <span class="Interface">Параметры
перестроения</span>);</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3817.png@_=1504708101" WIDTH="431" ALT HEIGHT="180"></p>

<p class="Bullet1">&#9632; 
<span class="Interface">Обновить</span> –
выполняет заполнение агрегатов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Очистить</span> –
выполняет очистку агрегатов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Оптимальные</span> –
создает список оптимальных агрегатов. В процессе выполнения команды будет
запрошен каталог, куда будут сохранены xml-файлы со списками оптимальных агрегатов. Каждый файл будет
назван именем соответствующего регистра. После выполнения команды, в списке
регистров жирным шрифтом будут выделены те регистры, для которых необходимо
создать оптимальные агрегаты в <span class="Interface">Конфигураторе</span>.
Задайте <span class="Interface">Параметр расчета оптимальных агрегатов</span>;</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3819.png@_=1504708101" WIDTH="431" ALT HEIGHT="180"></p>

<p class="Bullet1">&#9632; 
<span class="Interface">Выделить все</span> – с
помощью этой кнопки можно сделать активными все строки в списке, для того чтобы
затем выполнить над ними предусмотренные остальными кнопками операции.</p>

<p class="Paragraph0c">С помощью кнопки <IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3821.png@_=1504708101" WIDTH="29" ALT HEIGHT="27"> или клавиши <span class="Interface">F5</span> можно
<span class="Interface">Обновить </span>информацию об агрегатах.</p>

<p class="Picture"><IMG src="_img/6a86e8eeb8675758b0754db5426adc35/image3823.png@_=1504708101" WIDTH="800" ALT HEIGHT="393"></p>

<a name="_использование_регламентных_заданий_1"></a><a name="issogl1_использование_регламентных_заданий"><h2>Использование регламентных заданий</h2></a>

<p class="Paragraph0c">Ряд операций с регистрами и агрегатами программа позволяет
выполнять в автоматическом режиме по определенному расписанию. Для этого
администратор с помощью команды <span class="Interface">Регламентные и фоновые
задания</span> раздела <span class="Note"><b>Администрирование</b></span>
– <span class="Interface">Поддержка и обслуживание</span> может настроить
следующие регламентные задания:</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Обновление агрегатов</span>
– регламентное задание переносит данные из таблиц движений регистров в соответствующие
таблицы агрегатов. Переносятся те движения, которые были созданы в таблице
движений после предыдущего обновления агрегатов. Чем больше данных вводится в
программу в течение дня, тем чаще в течение дня должно происходить обновление
агрегатов;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Перестроение агрегатов</span>
– регламентное задание включает или выключает использование того или иного
агрегата. В зависимости от характера вносимых данных в программу, а также от
динамики изменения данных, которые выводятся в отчетах, рекомендуется выполнять
операцию с периодичностью раз в день, неделю, месяц. Необходимо перестраивать
агрегаты чаще, если, например, в программе постоянно вносится много новых
данных или если резко меняется характер отчетов, которыми пользуются
пользователи;</p>

<p class="Bullet1">&#9632; 
<span class="Interface">Установка периода
рассчитанных итогов</span> – переносит период рассчитанных итогов на начало
текущего месяца. Операция позволяет повысить скорость формирования отчетов.
Рекомендуется задавать период запуска раз в месяц.</p>

<p class="Paragraph0c">Подробнее о работе с регламентными заданиями см. в разделе
документации Регламентные задания.</p>
	</body>
</html>