<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1055;&#1086;&#1083;&#1091;&#1095;&#1080;&#1090;&#1100;&#1053;&#1072;&#1089;&#1090;&#1088;&#1086;&#1081;&#1082;&#1080;&#1054;&#1090;&#1095;&#1077;&#1090;&#1072;&#1055;&#1086;&#1059;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;</title>
		<LINK REL="stylesheet" href="style.css@_=1504708101">
		<SCRIPT src="script.js@_=1504708101" TYPE="text/javascript"></script>
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="_25EF_25EE_25EB_25F3_25F7_25E8_25F2_25FC_25ED_25E0_25F1_25F2_25F0_25EE_25E9_25EA_25E8_25EE_25F2_25F70922F64DFC" rel="canonical">
<link href="../../../../static/its.content.css@_=1490872753" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../../../static/its.content.js@_=1489758009"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../../../../static/html5shiv.js@_=1500896273"></script><![endif]-->

</head>
	<body class="bspdoc">
<a name="_отчетыклиентсерверполучитьнастройкиотчетапоумолчанию"></a><h1>ПолучитьНастройкиОтчетаПоУмолчанию</h1>

<pre> Настройки формы отчета по умолчанию.</pre>
<p class="Paragraph0c"><span class="Bold">Синтаксис</span></p>
<pre> Функция ПолучитьНастройкиОтчетаПоУмолчанию() Экспорт</pre>
<p class="Paragraph0c"><span class="Bold">Возвращаемое значение</span></p>
<pre>   Структура - Настройки формы отчета.
       * ФормироватьСразу - Булево - Значение по умолчанию для флажка "Формировать сразу".
           Когда флажок включен, то отчет будет формироваться:
             - После открытия;
             - После выбора пользовательских настроек;
             - После выбора другого варианта отчета.
       * ВыводитьСуммуВыделенныхЯчеек - Булево - Если Истина, то в отчете будет выводиться поле автосуммы.
       * Печать - Структура - Параметры печати табличного документа "по умолчанию".
           ** ПолеСверху - Число - Отступ сверху при печати (в миллиметрах).
           ** ПолеСлева  - Число - Отступ слева  при печати (в миллиметрах).
           ** ПолеСнизу  - Число - Отступ снизу  при печати (в миллиметрах).
           ** ПолеСправа - Число - Отступ справа при печати (в миллиметрах).
           ** ОриентацияСтраницы - ОриентацияСтраницы - "Портрет" или "Ландшафт".
           ** АвтоМасштаб - Булево - Автоматически подгонять масштаб под размер страницы.
           ** МасштабПечати - Число - Масштаб изображения (в процентах).
       * События - Структура - События, для которых определены обработчики в модуле объекта отчета.
           ** ПриСозданииНаСервере - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается в обработчике одноименного события формы отчета после выполнения кода формы.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  Отказ - Передается из параметров обработчика "как есть".
                  СтандартнаяОбработка - Передается из параметров обработчика "как есть".
                См. также:
                  "УправляемаяФорма.ПриСозданииНаСервере" в синтакс-помощнике.
                  ОтчетыПереопределяемый.ПриСозданииНаСервере().
                Пример 1 - Добавление команды с обработчиком в ОтчетыКлиентПереопределяемый.ОбработчикКоманды:
                Команда = Форма.Команды.Добавить("МояОсобеннаяКоманда");
                Команда.Действие  = "Подключаемый_Команда";
                Команда.Заголовок = НСтр("ru = &apos;Моя команда...&apos;");
                Кнопка = Форма.Элементы.Добавить(Команда.Имя, Тип("КнопкаФормы"), Форма.Элементы.ГруппаПрограммныйИнтерфейс);
                Кнопка.ИмяКоманды = Команда.Имя;
                Форма.ПостоянныеКоманды.Добавить(КомандаСоздать.Имя);
               Процедура ПриСозданииНаСервере(Форма, Отказ, СтандартнаяОбработка) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПередЗагрузкойНастроекВКомпоновщик - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается перед загрузкой новых настроек. Используется для изменения схемы компоновки.
                  Например, если схема отчета зависит от ключа варианта или параметров отчета.
                  Чтобы изменения схемы вступили в силу следует вызывать метод ОтчетыСервер.ПодключитьСхему().
                Параметры:
                  Контекст - Произвольный - 
                      Параметры контекста, в котором используется отчет.
                      Используется для передачи в параметрах метода ОтчетыСервер.ПодключитьСхему().
                  КлючСхемы - Строка -
                      Идентификатор текущей схемы компоновщика настроек.
                      По умолчанию не заполнен (это означает что компоновщик инициализирован на основании основной схемы).
                      Используется для оптимизации, чтобы переинициализировать компоновщик как можно реже.
                      Может не использоваться если переинициализация выполняется безусловно.
                  КлючВарианта - Строка, Неопределено -
                      Имя предопределенного или уникальный идентификатор пользовательского варианта отчета.
                      Неопределено когда вызов для варианта расшифровки или без контекста.
                  НовыеНастройкиКД - НастройкиКомпоновкиДанных, Неопределено -
                      Настройки варианта отчета, которые будут загружены в компоновщик настроек после его инициализации.
                      Неопределено когда настройки варианта не надо загружать (уже загружены ранее).
                  НовыеПользовательскиеНастройкиКД - ПользовательскиеНастройкиКомпоновкиДанных, Неопределено -
                      Пользовательские настройки, которые будут загружены в компоновщик настроек после его инициализации.
                      Неопределено когда пользовательские настройки не надо загружать (уже загружены ранее).
                Примеры:
                1. Компоновщик отчета инициализируется на основании схемы из общих макетов:
                Если КлючСхемы &lt;&gt; "1" Тогда
                 КлючСхемы = "1";
                 СхемаКД = ПолучитьОбщийМакет("МояОбщаяСхемаКомпоновки");
                 ОтчетыСервер.ПодключитьСхему(ЭтотОбъект, Контекст, СхемаКД, КлючСхемы);
                КонецЕсли;
                2. Схема зависит от значения параметра, выведенного в пользовательские настройки отчета:
                Если ТипЗнч(НовыеПользовательскиеНастройкиКД) = Тип("ПользовательскиеНастройкиКомпоновкиДанных") Тогда
                 ПолноеИмяОбъектаМетаданных = "";
                 Для Каждого ЭлементКД Из НовыеПользовательскиеНастройкиКД.Элементы Цикл
                  Если ТипЗнч(ЭлементКД) = Тип("ЗначениеПараметраНастроекКомпоновкиДанных") Тогда
                   ИмяПараметра = Строка(ЭлементКД.Параметр);
                   Если ИмяПараметра = "ОбъектМетаданных" Тогда
                    ПолноеИмяОбъектаМетаданных = ЭлементКД.Значение;
                   КонецЕсли;
                  КонецЕсли;
                 КонецЦикла;
                 Если КлючСхемы &lt;&gt; ПолноеИмяОбъектаМетаданных Тогда
                  КлючСхемы = ПолноеИмяОбъектаМетаданных;
                  СхемаКД = Новый СхемаКомпоновкиДанных;
                   Наполнение схемы...
                  ОтчетыСервер.ПодключитьСхему(ЭтотОбъект, Контекст, СхемаКД, КлючСхемы);
                 КонецЕсли;
                КонецЕсли;
               Процедура ПередЗагрузкойНастроекВКомпоновщик(Контекст, КлючСхемы, КлючВарианта, НовыеНастройкиКД, НовыеПользовательскиеНастройкиКД) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПередЗагрузкойВариантаНаСервере - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается в обработчике одноименного события формы отчета после выполнения кода формы.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  НовыеНастройкиКД - НастройкиКомпоновкиДанных - Настройки для загрузки в компоновщик настроек.
                См. также:
                  "Расширение управляемой формы для отчета.ПередЗагрузкойВариантаНаСервере" в синтакс-помощнике.
                  ОтчетыПереопределяемый.ПередЗагрузкойВариантаНаСервере().
               Процедура ПередЗагрузкойВариантаНаСервере(Форма, НовыеНастройкиКД) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПриЗагрузкеВариантаНаСервере - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается в обработчике одноименного события формы отчета после выполнения кода формы.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  НовыеНастройкиКД - НастройкиКомпоновкиДанных - Настройки для загрузки в компоновщик настроек.
                См. также:
                  "Расширение управляемой формы для отчета.ПриЗагрузкеВариантаНаСервере" в синтакс-помощнике.
               Процедура ПриЗагрузкеВариантаНаСервере(Форма, НовыеНастройкиКД) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПриЗагрузкеПользовательскихНастроекНаСервере - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается в обработчике одноименного события формы отчета после выполнения кода формы.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  НовыеПользовательскиеНастройкиКД - ПользовательскиеНастройкиКомпоновкиДанных -
                      Пользовательские настройки для загрузки в компоновщик настроек.
                См. также:
                  "Расширение управляемой формы для отчета.ПриЗагрузкеПользовательскихНастроекНаСервере"
                   в синтакс-помощнике.
               Процедура ПриЗагрузкеПользовательскихНастроекНаСервере(Форма, НовыеПользовательскиеНастройкиКД) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПередЗаполнениемПанелиБыстрыхНастроек - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается до перезаполнения панели настроек формы отчета.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  ПараметрыЗаполнения - Структура - Параметры, которые будут загружены в отчет.
               Процедура ПередЗаполнениемПанелиБыстрыхНастроек(Форма, ПараметрыЗаполнения) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПослеЗаполненияПанелиБыстрыхНастроек - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается после перезаполнения панели настроек формы отчета.
                Параметры:
                  Форма - УправляемаяФорма - Форма отчета.
                  ПараметрыЗаполнения - Структура - Параметры, которые будут загружены в отчет.
               Процедура ПослеЗаполненияПанелиБыстрыхНастроек(Форма, ПараметрыЗаполнения) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПриОпределенииПараметровВыбора - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Вызывается в форме отчета перед выводом настройки.
                Параметры:
                  Форма - УправляемаяФорма, Неопределено - Форма отчета.
                  СвойстваНастройки - Структура - Описание настройки отчета, которая будет выведена в форме отчета.
                      * ОписаниеТипов - ОписаниеТипов -
                          Тип настройки.
                      * ЗначенияДляВыбора - СписокЗначений -
                          Объекты, которые будут предложены пользователю в списке выбора.
                          Дополняет список объектов, уже выбранных пользователем ранее.
                      * ЗапросЗначенийВыбора - Запрос -
                          Возвращает объекты, которыми необходимо дополнить ЗначенияДляВыбора.
                          Первой колонкой (с 0м индексом) должен выбираться объект,
                          который следует добавить в ЗначенияДляВыбора.Значение.
                          Для отключения автозаполнения
                          в свойство ЗапросЗначенийВыбора.Текст следует записать пустую строку.
                      * ОграничиватьВыборУказаннымиЗначениями - Булево -
                          Когда Истина, то выбор пользователя будет ограничен значениями,
                          указанными в ЗначенияДляВыбора (его конечным состоянием).
                См. также:
                  <A href="_25EF_25F0_25E8_25EE_25EF_25F0_25E5_25E4_25E5_25EB_25E5_25ED_25E8_25E8_25EF_25E0_25F0_25E0_25EC_25E5_25F2_25F0_25EE_25E2_25E2_25FB_25E1_25EE_25F0_25E0.htm@_=1504708101#_отчетыпереопределяемыйприопределениипараметроввыбора">ОтчетыПереопределяемый.ПриОпределенииПараметровВыбора</a>().
               Процедура ПриОпределенииПараметровВыбора(Форма, СвойстваНастройки) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ПриОпределенииИспользуемыхТаблиц - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Список регистров и других объектов метаданных, по которым формируется отчет.
                  Используется для проверки что отчет может содержать не обновленные данные.
                Параметры:
                  КлючВарианта - Строка, Неопределено -
                      Имя предопределенного или уникальный идентификатор пользовательского варианта отчета.
                      Неопределено когда вызов для варианта расшифровки или без контекста.
                  ИспользуемыеТаблицы - Массив из Строка -
                      Полные имена объектов метаданных (регистров, документов и других таблиц),
                      данные которых выводятся в отчете.
                Пример:
                ИспользуемыеТаблицы.Добавить(Метаданные.Документы.&lt;ИмяДокумента&gt;.ПолноеИмя());
               Процедура ПриОпределенииИспользуемыхТаблиц(КлючВарианта, ИспользуемыеТаблицы) Экспорт
                 Обработка события.
               КонецПроцедуры
           ** ДополнитьСвязиОбъектовМетаданных - Булево - Если Истина, то в модуле объекта отчета
               следует определить обработчик события по шаблону:
                Дополнительные связи настроек этого отчета.
                В данной процедуре следует описать дополнительные зависимости объектов метаданных
                  конфигурации, которые будут использоваться для связи настроек отчетов.
                Параметры:
                  СвязиОбъектовМетаданных - ТаблицаЗначений - Таблица связей.
                      * ПодчиненныйРеквизит - Строка - Имя реквизита подчиненного объекта метаданных.
                      * ПодчиненныйТип      - Тип    - Тип подчиненного объекта метаданных.
                      * ВедущийТип          - Тип    - Тип ведущего объекта метаданных.
                См. также:
                  <A href="_25E4_25EE_25EF_25EE_25EB_25ED_25E8_25F2_25FC_25F1_25E2_25FF_25E7_25E8_25EE_25E1_25FA_25E5_25EA_25F2067C66C1A9#_отчетыпереопределяемыйдополнитьсвязиобъектовметаданных">ОтчетыПереопределяемый.ДополнитьСвязиОбъектовМетаданных</a>().
               Процедура ДополнитьСвязиОбъектовМетаданных(СвязиОбъектовМетаданных) Экспорт
                 Обработка события.
               КонецПроцедуры</pre>
<p class="Paragraph0c"><span class="Bold">Пример вызова</span></p>
<pre> Результат = ОтчетыКлиентСервер.ПолучитьНастройкиОтчетаПоУмолчанию()</pre>
<p class="Paragraph0c"><span class="Bold">Доступность</span></p>
<pre> Сервер, Тонкий клиент, Толстый клиент, Внешнее соединение</pre>
	</body>
</html>