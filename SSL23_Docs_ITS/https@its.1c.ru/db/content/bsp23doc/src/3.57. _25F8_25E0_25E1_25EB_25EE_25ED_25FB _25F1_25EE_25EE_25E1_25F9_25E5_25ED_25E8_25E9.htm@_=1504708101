<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>3.57. &#1064;&#1072;&#1073;&#1083;&#1086;&#1085;&#1099; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1081;</title>
		<LINK REL="stylesheet" href="style.css@_=1504708101">
		<SCRIPT src="script.js@_=1504708101" TYPE="text/javascript"></script>		<!--[if !IE]>--><SCRIPT src="zeroclipboard.js@_=1504708101" TYPE="text/javascript"></script><!--<![endif]-->
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="3.57. _25F8_25E0_25E1_25EB_25EE_25ED_25FB _25F1_25EE_25EE_25E1_25F9_25E5_25ED_25E8_25E9.htm" rel="canonical">
<link href="../../../../static/its.content.css@_=1490872753" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../../../static/its.content.js@_=1489758009"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../../../../static/html5shiv.js@_=1500896273"></script><![endif]-->

</head>
	<body class="bspdoc">
<h1>3.57. Шаблоны сообщений</h1>

<p class="Paragraph0c">Подсистема
«Шаблоны сообщений» позволяет экономить время, создавая письма и сообщения SMS
по заранее подготовленным шаблоном. В тексте шаблонов сообщений можно
определить реквизиты, которые будут заполняться данными из документов или
справочников программы. Кроме того, в шаблоне можно указать, что к письму нужно
прикреплять вложения и печатные формы.</p>

<p class="MsoNormal">Подсистема «Шаблоны
сообщений» работает совместно с подсистемами «<A href="3.43. _25F0_25E0_25E1_25EE_25F2_25E0 _25F1 _25EF_25EE_25F7_25F2_25EE_25E2_25FB_25EC_25E8 _25F1_25EE_25EE_25E1_25F9_25E5_25ED_25E8_25FF_25EC_25E8.htm@_=1504708101#_работа_с_почтовыми">Работа с почтовыми
сообщениями</a>», «<A href="3.31. _25EE_25F2_25EF_25F0_25E0_25E2_25EA_25E0 sms.htm@_=1504708101#_отправка_sms_1">Отправка SMS</a>», а также «<A href="3.10. _25E2_25E7_25E0_25E8_25EC_25EE_25E4_25E5_25E9_25F1_25F2_25E2_25E8_25FF.htm@_=1504708101#_взаимодействия">Взаимодействия</a>». Если какой-либо из перечисленных
подсистем нет в составе конфигурации, то соответствующая функциональность
шаблонов писем или SMS автоматически скрывается из интерфейса.</p>

<a name="issogl1_настройка"><h2>Настройка</h2></a>

<p class="Paragraph0c">Для того чтобы
пользователи имели возможность создавать шаблоны сообщение на основании
документов или справочников, необходимо принять решение по поводу состава типов
таких объектов (определить предметы шаблонов сообщений). Например, это могут
быть документы счетов на оплату, справочники контрагентов, сотрудников и т.п. </p>

<p class="MsoListBullet">&#9679; 
Затем выбранные объекты перечислить в свойстве <span class="Interface">Тип</span>
определяемого типа <span class="Interface">ПредметШаблонаСообщения</span>;</p>

<p class="MsoListBullet">во всех модулях менеджеров этих объектов
добавить следующие процедуры и при необходимости, вписать их реализацию:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// СтандартныеПодсистемы.ШаблоныСообщений</span>
<span class="comment">// Вызывается при подготовке шаблонов сообщений и позволяет переопределить список реквизитов и вложений.</span>
<span class="comment">//</span>
<span class="comment">// Параметры:</span>
<span class="comment">//  Реквизиты               - ДеревоЗначений - список реквизитов шаблона.</span>
<span class="comment">//         ** Имя            - Строка - Уникальное имя общего реквизита.</span>
<span class="comment">//         ** Представление  - Строка - Представление общего реквизита.</span>
<span class="comment">//         ** Тип            - Тип    - Тип реквизита. По умолчанию строка.</span>
<span class="comment">//         ** Формат         - Строка - Формат вывода значения для чисел, дат, строк и булевых значений.</span>
<span class="comment">//  Вложения                - ТаблицаЗначений - печатные формы и вложения</span>
<span class="comment">//         ** Имя            - Строка - Уникальное имя вложения.</span>
<span class="comment">//         ** Представление  - Строка - Представление варианта.</span>
<span class="comment">//         ** ТипФайла       - Строка - Тип вложения, который соответствует расширению файла: &quot;pdf&quot;, &quot;png&quot;, &quot;jpg&quot;, mxl&quot; и др.</span>
<span class="comment">//  ДополнительныеПараметры - Структура - дополнительные сведения о шаблоне сообщений.</span>
<span class="comment">//</span>
<span class="keyword">Процедура</span> ПриПодготовкеШаблонаСообщения<span class="operator">(</span>Реквизиты<span class="operator">,</span> Вложения<span class="operator">,</span> ДополнительныеПараметры<span class="operator">)</span> <span class="keyword">Экспорт</span>
<span class="keyword">КонецПроцедуры</span>
<span class="comment">// Вызывается в момент создания сообщений по шаблону для заполнения значений реквизитов и вложений.</span>
<span class="comment">//</span>
<span class="comment">// Параметры:</span>
<span class="comment">//  Сообщение - Структура - структура с ключами:</span>
<span class="comment">//    * ЗначенияРеквизитов - Соответствие - список используемых в шаблоне реквизитов.</span>
<span class="comment">//      ** Ключ     - Строка - имя реквизита в шаблоне;</span>
<span class="comment">//      ** Значение - Строка - значение заполнения в шаблоне.</span>
<span class="comment">//    * ЗначенияОбщихРеквизитов - Соответствие - список используемых в шаблоне общих реквизитов.</span>
<span class="comment">//      ** Ключ     - Строка - имя реквизита в шаблоне;</span>
<span class="comment">//      ** Значение - Строка - значение заполнения в шаблоне.</span>
<span class="comment">//    * Вложения - Соответствие - значения реквизитов </span>
<span class="comment">//      ** Ключ     - Строка - имя вложения в шаблоне;</span>
<span class="comment">//      ** Значение - ДвоичныеДанные, Строка - двоичные данные или адрес во временном хранилище вложения.</span>
<span class="comment">//  ПредметСообщения - ЛюбаяСсылка - ссылка на объект являющийся источником данных.</span>
<span class="comment">//  ДополнительныеПараметры - Структура -  Дополнительная информация о шаблоне сообщения.</span>
<span class="comment">//</span>
<span class="keyword">Процедура</span> ПриФормированииСообщения<span class="operator">(</span>Сообщение<span class="operator">,</span> ПредметСообщения<span class="operator">,</span> ДополнительныеПараметры<span class="operator">)</span> <span class="keyword">Экспорт</span>
<span class="keyword">КонецПроцедуры</span>
<span class="comment">// Заполняет список получателей SMS при отправке сообщения сформированного по шаблону.</span>
<span class="comment">//</span>
<span class="comment">// Параметры:</span>
<span class="comment">//   ПолучателиSMS - ТаблицаЗначений - список получается SMS.</span>
<span class="comment">//     * НомерТелефона - Строка - номер телефона, куда будет отправлено сообщение SMS.</span>
<span class="comment">//     * Представление - Строка - представление получателя сообщения SMS.</span>
<span class="comment">//     * Контакт       - СправочникСсылка - контакт, которому принадлежит номер телефона.</span>
<span class="comment">//  ПредметСообщения - ЛюбаяСсылка - ссылка на объект являющийся источником данных.</span>
<span class="comment">//</span>
<span class="keyword">Процедура</span> ПриЗаполненииТелефоновПолучателейВСообщении<span class="operator">(</span>ПолучателиSMS<span class="operator">,</span> ПредметСообщения<span class="operator">)</span> <span class="keyword">Экспорт</span>
<span class="keyword">КонецПроцедуры</span>
<span class="comment">// Заполняет список получателей письма при отправки сообщения сформированного по шаблону.</span>
<span class="comment">//</span>
<span class="comment">// Параметры:</span>
<span class="comment">//   ПолучателиПисьма - ТаблицаЗначений - список получается письма.</span>
<span class="comment">//     * Адрес           - Строка - адрес электронной почты получателя.</span>
<span class="comment">//     * Представление   - Строка - представление получается письма.</span>
<span class="comment">//  ПредметСообщения - ЛюбаяСсылка - ссылка на объект являющийся источником данных.</span>
<span class="comment">//</span>
<span class="keyword">Процедура</span> ПриЗаполненииПочтыПолучателейВСообщении<span class="operator">(</span>ПолучателиПисьма<span class="operator">,</span> ПредметСообщения<span class="operator">)</span> <span class="keyword">Экспорт</span>
<span class="keyword">КонецПроцедуры</span>
<span class="comment">// Конец СтандартныеПодсистемы.ШаблоныСообщений</span></pre>

<p class="MsoListBullet">&#9679; 
Если код процедур оставить незаполненными, то в
шаблонах сообщений будут доступны реквизиты предмета  и определенные в нем печатные формы. При
наличии у предмета контактной информации список адресатов будет заполнен, в
противном случае он будет пустой. </p>

<p class="MsoListBullet">&#9679; 
Пример реализации этих процедур см. в
демонстрационной конфигурации в справочнике <span class="Interface">_ДемоФизическиеЛица</span>.  </p>

<a name="issogl2_размещение_в_командном_интерфейсе"><h3>Размещение в командном интерфейсе</h3></a>

<p class="Paragraph0c">Для использования
подсистемы необходимо разместить в командном интерфейсе:</p>

<p class="MsoListBullet">&#9679; 
Справочник <span class="Interface">ШаблоныСообщений</span> – для ведения
списка шаблонов сообщений (выполняется ответственным за список шаблонов сообщений
или администраторам).</p>

<p class="Paragraph0c">В случае если в
конфигурации не используется подсистема «<A href="3.27. _25ED_25E0_25F1_25F2_25F0_25EE_25E9_25EA_25E8 _25EF_25F0_25EE_25E3_25F0_25E0_25EC_25EC_25FB.htm@_=1504708101#_настройки_программы">Настройки программы</a>», в рабочем
месте администратора программы необходимо разместить константу:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">ИспользоватьШаблоныСообщений</span>
– для включения и выключения подсистемы;</p>

<p class="Paragraph0c">См. пример в
форме <span class="Interface">Органайзер</span>
обработки <span class="Interface">ПанельАдминистрированияБСП</span>.</p>

<a name="issogl2_настройка_прав_доступа_пользователей"><h3>Настройка прав доступа пользователей</h3></a>

<p class="Paragraph0c">Для настройки
прав доступа пользователей к данным подсистемы «Шаблоны сообщений» следует
использовать роли, приведенные ниже.</p>

<p class="Objectname">Таблица 3.116.</p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td valign="top">
   <p class="TextinTable81"><span class="Interface">№</span></p>
   </td>
   
   <td valign="top">
   <p class="TextinTable81"><span class="Interface">Роли и их назначение</span></p>
   </td>
   
  </tr>
 </thead>
 <tr>
  <td valign="top">
  <p class="TextinTable81"> </p>
  </td>
  
  <td valign="top">
  <p class="TextinTable81"><span class="Interface">БазовыеПрава </span></p>
  <p class="TextinTable81">Добавление и
  изменение персональных шаблонов сообщений 
  (доступных только автору).</p>
  <p class="TextinTable81">Просмотр и
  использование общих шаблонов сообщений (доступных всем пользователям).</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="TextinTable81"> </p>
  </td>
  
  <td valign="top">
  <p class="TextinTable81"><span class="Interface">ДобавлениеИзменениеШаблоновСообщений</span></p>
  <p class="TextinTable81">Подготовка
  общих шаблонов сообщений. Добавление и изменение шаблонов сообщений.</p>
  <p class="TextinTable81">Администрирование
  списка шаблонов сообщений.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="TextinTable81"> </p>
  </td>
  
  <td valign="top">
  <p class="TextinTable81"><span class="Interface">ПолныеПрава</span> (из подсистемы «Базовая
  функциональность»).</p>
  <p class="TextinTable81">Включение и
  отключение использования подсистемы «Шаблонов сообщений». Удаление помеченных
  на удаление объектов подсистемы.</p>
  </td>
  
 </tr>
</table>

<p class="MsoNormalCxSpLast"> </p>

<p class="Paragraph0c">Пример настройки
прав доступа пользователей:</p>

<p class="Objectname">Таблица 3.117.</p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td valign="top">
   <p class="TextinTable81"><span class="Interface">№</span></p>
   </td>
   
   <td valign="top">
   <p class="TextinTable81"><span class="Interface">Группа пользователей и ее функции</span></p>
   </td>
   
   <td valign="top">
   <p class="TextinTable81"><span class="Interface">Состав ролей</span></p>
   </td>
   
  </tr>
 </thead>
 <tr>
  <td valign="top">
  <p class="TextinTable81"> </p>
  </td>
  
  <td valign="top">
  <p class="TextinTable81">Ответственный
  за список шаблонов сообщений</p>
  </td>
  
  <td valign="top">
  <p class="BulletTab">&#9679; 
  <span class="Interface">БазовыеПрава</span> (из
  подсистемы «Базовая функциональность»),</p>
  <p class="BulletTab">&#9679; 
  <span class="Interface">ДобавлениеИзменениеШаблоновСообщений</span></p>
  </td>
  
 </tr>
</table>

<a name="issogl2_особые_случаи_внедрения_подсистемы"><h3>Особые случаи внедрения подсистемы</h3></a>

<p class="MsoListBullet">&#9679; 
<A href="3.59. _25EE_25F1_25EE_25E1_25FB_25E5 _25F1_25EB_25F3_25F7_25E0_25E8 _25E2_25ED_25E5_25E4_25F0_25E5_20EA087B14A#_внедрение_подсистемы_«шаблоны">Внедрение
подсистемы «Шаблоны сообщений» без подсистемы «Управление доступом».</a></p>

<p class="MsoListBullet">&#9679; 
<A href="3.59. _25EE_25F1_25EE_25E1_25FB_25E5 _25F1_25EB_25F3_25F7_25E0_25E8 _25E2_25ED_25E5_25E4_25F0_25E5_20EA087B14A#_внедрение_подсистемы_«шаблоны_1">Внедрение подсистемы «Шаблоны сообщений» без
подсистемы «Присоединенные файлы».</a></p>

<a name="issogl1_использование_при_разработке_конфигурации"><h2>Использование при разработке конфигурации</h2></a>

<p class="Paragraph0c">По умолчанию в
шаблонах сообщений доступны все реквизиты предмета сообщения, за исключением
реквизитов с типом <span class="Interface">ХранилищеЗначения</span> и некоторых стандартных реквизитов (<span class="Interface">ПометкаУдаления</span>,
<span class="Interface">ЭтоГруппа</span>
и др.). Также доступны поля контактной информации и доп. реквизиты и сведения.
В качестве вложений к письмам доступы определенные в конфигурации печатные
формы, внешние печатные формы и печатные формы из расширений. При наличии
контактной информации у предмета будет заполонен список адресатов: для почтовых
сообщений из полей с видом контактной информации электронная почта, а для
сообщений SMS с видом контактной информации телефон.</p>

<p class="Paragraph0c">В случаях, когда
при создании шаблонов сообщений недостаточно стандартных средств, можно
предусмотреть собственные реквизиты, печатные формы и вложения</p>

<p class="MsoNormal">1.  В процедуре <span class="Interface">ПриПодготовкеШаблонаСообщения </span>определить
состав используемых реквизитов и вложений: </p>

<p class="MsoNormal"> </p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">НовыйРеквизит <span class="operator">=</span> Реквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Имя <span class="operator">=</span> <span class="string">&quot;СостояниеКонтрагента&quot;</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Представление <span class="operator">=</span> НСтр<span class="operator">(</span><span class="string">&quot;ru = 'Состояние контрагента'&quot;</span><span class="operator">)</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Тип <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">&quot;Строка&quot;</span><span class="operator">)</span><span class="operator">;</span>
Карта <span class="operator">=</span> Вложения<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
КартинкаКнопки<span class="operator">.</span>Имя <span class="operator">=</span> <span class="string">&quot;КартаРасположенияОфиса'&quot;</span><span class="operator">;</span>
КартинкаКнопки<span class="operator">.</span>Представление <span class="operator">=</span> НСтр<span class="operator">(</span><span class="string">&quot;ru = Карта расположения офиса'&quot;</span><span class="operator">)</span><span class="operator">;</span>
КартинкаКнопки<span class="operator">.</span>ТипФайла <span class="operator">=</span> <span class="string">&quot;jpg&quot;</span><span class="operator">;</span></pre>

<p class="MsoNormal"> </p>

<p class="MsoNormal">2. В
процедуре <span class="Interface">ПриФормированииСообщения </span>заполнить ранее определенные
реквизиты и вложения: </p>

<p class="MsoNormal"> </p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Сообщение<span class="operator">.</span>ЗначенияРеквизитов<span class="operator">[</span><span class="string">&quot;СостояниеКонтрагента&quot;</span><span class="operator">]</span> <span class="operator">=</span> ПроверкаКонтрагентов<span class="operator">.</span>СостояниеКонтрагента<span class="operator">(</span>ПредметСообщения<span class="operator">.</span>ИНН<span class="operator">,</span> ПредметСообщения<span class="operator">.</span>КПП<span class="operator">)</span><span class="operator">;</span>
АдресКартинкиВоВременноеХранилище <span class="operator">=</span> КартаРасположенияОфис<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Сообщение<span class="operator">.</span>Вложения<span class="operator">[</span><span class="string">&quot;КартаРасположенияОфиса&quot;</span><span class="operator">]</span> <span class="operator">=</span> АдресКартинкиВоВременноеХранилище<span class="operator">;</span></pre>

<p class="MsoNormal"> </p>

<p class="MsoNormal">3. Если у
предмета нет контактной информации или требуется особенный список адресатов, то
список получателей письма или сообщений SMS 
должен быть заполен по контактной информации реквизита предмета или
используя собственный алгоритм. Для этого в модуле менеджера объекта,
являющимся предметом шаблонов сообщений, требуется. В этом случае в процедурах <span class="Interface">ПриЗаполненииТелефоновПолучателейВСообщении
</span>и <span class="Interface">ПриЗаполненииПочтыПолучателейВСообщении</span>
заполнить получателей сообщения:</p>

<p class="MsoNormal"> </p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ПриЗаполненииПочтыПолучателейВСообщении<span class="operator">(</span>ПолучателиПисьма<span class="operator">,</span> ПредметСообщения<span class="operator">)</span> <span class="keyword">Экспорт</span>
    ШаблоныСообщений<span class="operator">.</span>ЗаполнитьПолучателей<span class="operator">(</span>ПолучателиПисьма<span class="operator">,</span> ПредметСообщения<span class="operator">,</span> <span class="string">&quot;Контрагент&quot;</span><span class="operator">)</span><span class="operator">;</span>
    Получатель <span class="operator">=</span> ПолучателиПисьма<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    Получатель<span class="operator">.</span>Адрес <span class="operator">=</span> ПредметСообщения<span class="operator">.</span>ЭлектроннаяПочтаСтрокой<span class="operator">;</span>
    Получатель<span class="operator">.</span>Представление <span class="operator">=</span> ПредметСообщения<span class="operator">.</span>ЭлектроннаяПочтаПредставление<span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="keyword">Процедура</span> ПриЗаполненииТелефоновПолучателейВСообщении<span class="operator">(</span>ПолучателиSMS<span class="operator">,</span> ПредметСообщения<span class="operator">)</span> <span class="keyword">Экспорт</span>
    ШаблоныСообщений<span class="operator">.</span>ЗаполнитьПолучателей<span class="operator">(</span>ПолучателиSMS<span class="operator">,</span> ПредметСообщения<span class="operator">,</span> <span class="string">&quot;Контрагент&quot;</span><span class="operator">,</span> Перечисления<span class="operator">.</span>ТипыКонтактнойИнформации<span class="operator">.</span>Телефон<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre>

<p class="MsoNormal"> </p>

<p class="Bullet0">Пример использования
см. в документе <span class="Interface">_ДемоСчетНаОплатуПокупателю</span> и справочнике <span class="Interface">_ДемоКонтрагенты</span>
демонстрационной конфигурации.</p>

<p class="Bullet0">В тех случаях, когда
требуется определить список реквизитов, вложений или список получателей сразу
для всех или нескольких предметов шаблонов сообщений, то необходимо размещать
код в одноименных процедурах общего модуля <span class="Interface">ШаблоныСообщенийПереопределяемый</span>.</p>

<a name="issogl2_разработка_предметов_шаблонов_сообщений_не_привязанных_к_объектам_конфигурации."><h3>Разработка предметов шаблонов сообщений, не привязанных к объектам конфигурации.</h3></a>

<p class="Paragraph0c">В случаях, когда
необходимо создать назначение для шаблонов сообщений, которое не является
объектом конфигурации, то в процедуре <span class="Interface">ПриОпределенииНастроек</span> общего модуля <span class="Interface">ШаблоныСообщенийПереопределяемый</span>
необходимо добавить код, например:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Предмет <span class="operator">=</span> Настройки<span class="operator">.</span>ПредметыШаблонов<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Предмет<span class="operator">.</span>Имя <span class="operator">=</span> <span class="string">&quot;ОповещениеКлиентаИзменениеЗаказа&quot;</span><span class="operator">;</span>
Предмет<span class="operator">.</span>Представление <span class="operator">=</span> НСтр<span class="operator">(</span><span class="string">&quot;ru = 'Оповещение клиента &quot;</span><span class="string">&quot;Изменение заказа&quot;</span><span class="string">&quot;'&quot;</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal"> </p>

<p class="Bullet0">Пример использования
таких назначений см. в документе <span class="Interface">_ДемоЗаказПокупателя</span> демонстрационной конфигурации.</p>

<a name="issogl2_добавление_общих_реквизитов"><h3>Добавление общих реквизитов</h3></a>

<p class="MsoNormal">Помимо реквизитов,
специфичных для конкретного предмета шаблона сообщений, предусмотрена
возможность определять реквизиты, общие для всех предметов. Например, для того
чтобы сделать доступным для выбора реквизит <span class="Interface">Основная организация</span> во всех
шаблонах сообщений, необходимо описать общий реквизит в общем модуле <span class="Interface">ШаблоныСообщенийПереопределяемый
</span>в процедуре <span class="Interface">ПриОпределенииНастроек</span>:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">НовыйРеквизит <span class="operator">=</span> Настройки<span class="operator">.</span>ОбщиеРеквизиты<span class="operator">.</span>Строки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Имя <span class="operator">=</span> <span class="string">&quot;ОсновнаяОрганизация&quot;</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Представление <span class="operator">=</span> НСтр<span class="operator">(</span><span class="string">&quot;ru = 'Основная организация'&quot;</span><span class="operator">)</span><span class="operator">;</span>
НовыйРеквизит<span class="operator">.</span>Тип <span class="operator">=</span> Тип<span class="operator">(</span><span class="string">&quot;СправочникСсылка._ДемоОрганизации&quot;</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="Paragraph0c">Заполнение общих
реквизитов производится в общем модуле <span class="Interface">ШаблоныСообщенийПереопределяемый </span>в процедуре <span class="Interface">ПриФормированииСообщения
</span><span class="Interface">аналогично другим реквизитам. </span></p>

<a name="issogl2_настройка_обмена_данными"><h3>Настройка обмена данными</h3></a>

<p class="Paragraph0c">Все объекты
метаданных подсистемы, содержащие данные, рекомендуется включать в планы обмена
распределенной ИБ (РИБ).</p>		<script type="text/javascript">listenCopy('zeroclipboard.swf');</script>
	</body>
</html>