<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1044;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100;&#1055;&#1086;&#1076;&#1087;&#1080;&#1089;&#1100;&#1048;&#1079;&#1060;&#1072;&#1081;&#1083;&#1072;</title>
		<LINK REL="stylesheet" href="style.css@_=1504708101">
		<SCRIPT src="script.js@_=1504708101" TYPE="text/javascript"></script>
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="_25E4_25EE_25E1_25E0_25E2_25E8_25F2_25FC_25EF_25EE_25E4_25EF_25E8_25F1_25FC_25E8_25E7_25F4_25E0_25E9_25EB_25E0.htm" rel="canonical">
<link href="../../../../static/its.content.css@_=1490872753" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../../../static/its.content.js@_=1489758009"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../../../../static/html5shiv.js@_=1500896273"></script><![endif]-->

</head>
	<body class="bspdoc">
<a name="_электроннаяподписьклиентдобавитьподписьизфайла"></a><h1>ДобавитьПодписьИзФайла</h1>

<pre> Предлагает пользователю выбрать файлы подписей для добавления к объекту и добавляет их.
 Общий подход к обработке значений свойств с типом ОписаниеОповещения в параметре ОписаниеДанных.
  При выполнении обработки оповещения в нее передается структура параметров, в которой всегда есть
  свойство "Оповещение" типа ОписаниеОповещения, обработку которого нужно выполнить для продолжения.
  Кроме того, в структуре всегда есть свойство ОписаниеДанных, полученное при вызове процедуры.
  При вызове оповещения в качестве значения должна передаваться структура. Если в процессе асинхронного
  выполнения возникает ошибка, тогда в эту структуру нужно вставить свойство ОписаниеОшибки типа Строка.</pre>
<p class="Paragraph0c"><span class="Bold">Синтаксис</span></p>
<pre> Процедура ДобавитьПодписьИзФайла(ОписаниеДанных, Форма = Неопределено, ОбработкаРезультата = Неопределено) Экспорт</pre>
<p class="Paragraph0c"><span class="Bold">Параметры</span></p>
<pre>  ОписаниеДанных - Структура - со свойствами:
    * ЗаголовокДанных     - Строка - заголовок элемента данных, например Файл.
    * ПоказатьКомментарий - Булево - (необязательный) - разрешает ввод комментария в форме
                              добавления подписей. Если не указан, значит Ложь.
    * Объект              - Ссылка - (необязательный) - ссылка на объект с табличной частью.
                              ЭлектронныеПодписи, в которую нужно добавить подпись.
    * --  --            - ОписаниеОповещения - (необязательный) - обработчик добавления подписи в
                              табличную часть ЭлектронныеПодписи. Следует учесть общий подход (см. выше).
                              В момент вызова в ОписаниеДанных уже вставлен параметр Подписи.
    * ВерсияОбъекта       - Строка - (необязательный) - версия данных объекта для проверки и
                              блокировки объекта перед добавлением подписи.
    * Представление       - Ссылка, Строка - (необязательный), если не указан, тогда
                                представление вычисляется по значению свойства Объект.
    * Данные              - ДвоичныеДанные - (необязательный) - данные для проверки подписи.
    * --  --            - Строка - (необязательный) - адрес временного хранилища, содержащего двоичные данные.
    * --  --            - ОписаниеОповещения (необязательный) - обработчик получения данных, который
                               возвращает их в свойстве Данные (см. выше общий подход).
  Форма - УправляемаяФорма - форма из которой нужно получить уникальный идентификатор, который будет
                                использоваться при блокировке объекта.
        - Неопределено     - использовать стандартную форму.
  ОбработкаРезультата - ОписаниеОповещения - необязательный параметр.
     Требуется для нестандартной обработки результата, например, если не указан параметр Объект и/или Форма.
     В результат передается входной параметр ОписаниеДанных, который в успешном случае, дополняется свойствами:
     * Успех - Булево - Истина, если все прошло успешно.
     * Подписи - Массив - который содержит элементы:
       * СвойстваПодписи - Строка - адрес временного хранилища, содержащего описанную ниже структуру.
                         - Структура - развернутое описание подписи:
           * Подпись             - ДвоичныеДанные - результат подписания.
           * УстановившийПодпись - СправочникСсылка.Пользователи - пользователь, который
                                      подписал объект информационной базы.
           * Комментарий         - Строка - комментарий, если он был введен при подписании.
           * ИмяФайлаПодписи     - Строка - имя файла, из которого добавлена подпись.
           * ДатаПодписи         - Дата   - дата, когда подпись была сделана. Имеет смысл для случая,
                                            когда дату невозможно извлечь из данных подписи. Если не
                                            указана или пустая, тогда используется текущая дата сеанса.
           * ДатаПроверкиПодписи - Дата   - дата проверки подписи после добавления из файла, если
                                            не указано свойство Данные в параметре ОписаниеДанных,
                                            возвращает пустую дату.
           * ПодписьВерна        - Булево - результат проверки подписи после добавления из файла, если
                                            не указано свойство Данные в параметре ОписаниеДанных,
                                            возвращает Ложь.
           Производные свойства:
           * Сертификат          - ДвоичныеДанные - содержит выгрузку сертификата,
                                      который использовался для подписания (содержится в подписи).
           * Отпечаток           - Строка - отпечаток сертификата в формате строки Base64.
           * КомуВыданСертификат - Строка - представление субъекта, полученное из двоичных данных сертификата.</pre>
<p class="Paragraph0c"><span class="Bold">Пример вызова</span></p>
<pre> ЭлектроннаяПодписьКлиент.ДобавитьПодписьИзФайла(ОписаниеДанных, Форма, ОбработкаРезультата)</pre>
<p class="Paragraph0c"><span class="Bold">Доступность</span></p>
<pre> Тонкий клиент, Толстый клиент</pre>
	</body>
</html>